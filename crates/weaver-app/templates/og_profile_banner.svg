<svg width="1200" height="630" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!-- Banner image (upper half) -->
  <image xlink:href="{{ banner_image_data }}" x="0" y="0" width="1200" height="315" preserveAspectRatio="xMidYMid slice"/>

  <!-- Bottom panel -->
  <rect x="0" y="315" width="1200" height="315" fill="#191724"/>

  <!-- Avatar circle (if present) - right side, straddling divider -->
  {% if avatar_data.is_some() %}
  <defs>
    <clipPath id="avatar-clip">
      <circle cx="1040" cy="315" r="100"/>
    </clipPath>
  </defs>
  <image xlink:href="{{ avatar_data.as_ref().unwrap() }}" x="940" y="215" width="200" height="200" clip-path="url(#avatar-clip)" preserveAspectRatio="xMidYMid slice"/>
  {% endif %}

  <!-- Display name - CMU Sans Serif -->
  {% for line in display_name_lines %}
  <text x="60" y="{{ 390 + loop.index0 * 60 }}" fill="#c4a7e7" font-family="CMU Sans Serif, sans-serif" font-size="56" font-weight="bold">{{ line }}</text>
  {% endfor %}

  <!-- Handle + notebook count - flows after display name -->
  <text x="60" y="{{ 390 + (display_name_lines.len() - 1) * 60 + 52 }}" fill="#ebbcba" font-family="Ioskeley Mono, monospace" font-size="32">@{{ handle }} Â· {{ notebook_count }} {% if notebook_count == 1 %}notebook{% else %}notebooks{% endif %}</text>

  <!-- Bio snippet - Adobe Caslon Pro -->
  {% if bio_lines.first().is_some() %}
  <text x="60" y="{{ 390 + (display_name_lines.len() - 1) * 60 + 52 + 48 }}" fill="#e0def4" font-family="Adobe Caslon Pro, Georgia, serif" font-size="28">{{ bio_lines.first().unwrap() }}</text>
  {% endif %}

  <!-- Weaver branding -->
  <text x="60" y="600" fill="#908caa" font-family="Ioskeley Mono, monospace" font-size="28">weaver.sh</text>
</svg>
