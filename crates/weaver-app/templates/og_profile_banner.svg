<svg width="1200" height="630" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!-- Banner image (upper half) -->
  <image xlink:href="{{ banner_image_data }}" x="0" y="0" width="1200" height="315" preserveAspectRatio="xMidYMid slice"/>

  <!-- Bottom panel -->
  <rect x="0" y="315" width="1200" height="315" fill="#191724"/>

  <!-- Avatar circle (if present) - right side, straddling divider -->
  {% if avatar_data.is_some() %}
  <defs>
    <clipPath id="avatar-clip">
      <circle cx="1040" cy="315" r="100"/>
    </clipPath>
  </defs>
  <image xlink:href="{{ avatar_data.as_ref().unwrap() }}" x="940" y="215" width="200" height="200" clip-path="url(#avatar-clip)" preserveAspectRatio="xMidYMid slice"/>
  {% endif %}

  <!-- Display name -->
  {% for line in display_name_lines %}
  <text x="60" y="{{ 400 + loop.index0 * 64 }}" fill="#c4a7e7" font-family="IBM Plex Sans, sans-serif" font-size="64" font-weight="900">{{ line }}</text>
  {% endfor %}

  <!-- Handle + notebook count -->
  <text x="60" y="450" fill="#ebbcba" font-family="Ioskeley Mono, monospace" font-size="36">@{{ handle }} Â· {{ notebook_count }} {% if notebook_count == 1 %}notebook{% else %}notebooks{% endif %}</text>

  <!-- Bio snippet -->
  {% if bio_lines.first().is_some() %}
  <text x="60" y="500" fill="#e0def4" font-family="IBM Plex Sans, sans-serif" font-size="28" font-weight="400">{{ bio_lines.first().unwrap() }}</text>
  {% endif %}

  <!-- Weaver branding -->
  <text x="60" y="600" fill="#908caa" font-family="Ioskeley Mono, monospace" font-size="24">weaver.sh</text>
</svg>
