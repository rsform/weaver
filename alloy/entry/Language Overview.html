<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Language Overview</title>
  <link rel="stylesheet" href="../css/base.css">
  <link rel="stylesheet" href="../css/syntax.css">
</head>
<body>
<p><code>.ac</code> file extension</p>
<h2>Design Philosophy</h2>
<h3>Safety First</h3>
<ul>
<li>Thread-safe by default through Arc</li>
<li>Immutable by default</li>
<li>Explicit effect tracking</li>
<li>Comprehensive compile-time checks</li>
<li>No unsafe blocks</li>
</ul>
<h3>Performance</h3>
<ul>
<li>Zero-cost abstractions where possible</li>
<li>Predictable performance</li>
<li>Efficient compilation to Rust</li>
<li>Optional no-atomic reference counting for embedded systems</li>
<li>Effect system enables compile-time optimizations</li>
</ul>
<h3>Ergonomics</h3>
<ul>
<li>Clear, readable syntax</li>
<li>Powerful type inference</li>
<li>Pipeline operator for fluid data transformation</li>
<li>Pattern matching with exhaustive checking</li>
<li>Trailing closure syntax</li>
</ul>
<h2>Key Features</h2>
<h3>Type System</h3>
<ul>
<li>Strong static typing with powerful type inference</li>
<li>Union types and type narrowing from TypeScript</li>
<li>Advanced trait system with defaults and template control</li>
<li>Square brackets <code>[]</code> for generics/templates instead of angle brackets</li>
<li>Algebraic data types with pattern matching</li>
<li>Optional chaining and null coalescing operators from Swift</li>
</ul>
<pre><code class="language-Rust"><span class="wvrcode-source wvrcode-rust"><span class="wvrcode-comment wvrcode-line wvrcode-double-slash wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-comment wvrcode-rust">//</span> Union types and type narrowing
</span><span class="wvrcode-storage wvrcode-type wvrcode-type wvrcode-rust">type</span> <span class="wvrcode-entity wvrcode-name wvrcode-type wvrcode-rust">StringOrNumber</span> <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">=</span> string <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">|</span> number

<span class="wvrcode-meta wvrcode-function wvrcode-rust"><span class="wvrcode-meta wvrcode-function wvrcode-rust"><span class="wvrcode-storage wvrcode-type wvrcode-function wvrcode-rust">fn</span> </span><span class="wvrcode-entity wvrcode-name wvrcode-function wvrcode-rust">process</span></span><span class="wvrcode-meta wvrcode-function wvrcode-rust"><span class="wvrcode-meta wvrcode-function wvrcode-parameters wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-parameters wvrcode-begin wvrcode-rust">(</span><span class="wvrcode-variable wvrcode-parameter wvrcode-rust">value</span><span class="wvrcode-punctuation wvrcode-separator wvrcode-rust">:</span> StringOrNumber</span><span class="wvrcode-meta wvrcode-function wvrcode-rust"><span class="wvrcode-meta wvrcode-function wvrcode-parameters wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-parameters wvrcode-end wvrcode-rust">)</span></span></span></span><span class="wvrcode-meta wvrcode-function wvrcode-rust"> </span><span class="wvrcode-meta wvrcode-function wvrcode-rust"><span class="wvrcode-meta wvrcode-block wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-block wvrcode-begin wvrcode-rust">{</span>
	<span class="wvrcode-keyword wvrcode-control wvrcode-rust">match</span> <span class="wvrcode-invalid wvrcode-illegal wvrcode-rust">typeof</span> value <span class="wvrcode-meta wvrcode-block wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-block wvrcode-begin wvrcode-rust">{</span>
		<span class="wvrcode-string wvrcode-quoted wvrcode-double wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-string wvrcode-begin wvrcode-rust">&quot;</span>string<span class="wvrcode-punctuation wvrcode-definition wvrcode-string wvrcode-end wvrcode-rust">&quot;</span></span> <span class="wvrcode-meta wvrcode-function wvrcode-return-type wvrcode-rust"><span class="wvrcode-punctuation wvrcode-separator wvrcode-rust">-&gt;</span> handle_string<span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span>value as string<span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span>
		</span><span class="wvrcode-string wvrcode-quoted wvrcode-double wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-string wvrcode-begin wvrcode-rust">&quot;</span>number<span class="wvrcode-punctuation wvrcode-definition wvrcode-string wvrcode-end wvrcode-rust">&quot;</span></span> <span class="wvrcode-meta wvrcode-function wvrcode-return-type wvrcode-rust"><span class="wvrcode-punctuation wvrcode-separator wvrcode-rust">-&gt;</span> handle_number<span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span>value as number<span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span>
	</span></span><span class="wvrcode-meta wvrcode-block wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-block wvrcode-end wvrcode-rust">}</span></span>
</span><span class="wvrcode-meta wvrcode-block wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-block wvrcode-end wvrcode-rust">}</span></span></span>

<span class="wvrcode-comment wvrcode-line wvrcode-double-slash wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-comment wvrcode-rust">//</span> Optional chaining and null coalescing
</span><span class="wvrcode-storage wvrcode-type wvrcode-rust">let</span> value <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">=</span> obj<span class="wvrcode-keyword wvrcode-operator wvrcode-rust">?</span>.prop<span class="wvrcode-keyword wvrcode-operator wvrcode-rust">?</span>.<span class="wvrcode-support wvrcode-function wvrcode-rust">method</span><span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span></span><span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span></span> <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">?</span><span class="wvrcode-keyword wvrcode-operator wvrcode-rust">?</span> default_value
</span></code></pre>
<h3>Memory Management</h3>
<ul>
<li>Implicit Arc (Atomic Reference Counting) by default</li>
<li>Optional non-atomic reference counting for platforms without atomics</li>
<li>Custom allocator support via the effect system</li>
<li>Everything immutable by default</li>
<li>Thread-safe by default through Arc</li>
</ul>
<p>Example:</p>
<pre><code class="language-Rust"><span class="wvrcode-source wvrcode-rust"><span class="wvrcode-comment wvrcode-line wvrcode-double-slash wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-comment wvrcode-rust">//</span> Standard usage - implicit Arc
</span><span class="wvrcode-storage wvrcode-type wvrcode-rust">let</span> shared <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">=</span> <span class="wvrcode-meta wvrcode-path wvrcode-rust">ComplexType<span class="wvrcode-punctuation wvrcode-accessor wvrcode-rust">::</span></span>new<span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span></span><span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span></span>

<span class="wvrcode-comment wvrcode-line wvrcode-double-slash wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-comment wvrcode-rust">//</span> No-atomic reference counting for embedded platforms
</span>
<span class="wvrcode-meta wvrcode-annotation wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-annotation wvrcode-rust">#</span><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">[</span><span class="wvrcode-variable wvrcode-annotation wvrcode-rust">no_atomic</span><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">]</span></span>
<span class="wvrcode-storage wvrcode-type wvrcode-rust">let</span> basic <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">=</span> <span class="wvrcode-meta wvrcode-path wvrcode-rust">ComplexType<span class="wvrcode-punctuation wvrcode-accessor wvrcode-rust">::</span></span>new<span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span></span><span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span></span>

<span class="wvrcode-comment wvrcode-line wvrcode-double-slash wvrcode-rust"><span class="wvrcode-punctuation wvrcode-definition wvrcode-comment wvrcode-rust">//</span> Custom allocation
</span>
<span class="wvrcode-storage wvrcode-type wvrcode-rust">let</span> bump_allocator <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">=</span> <span class="wvrcode-meta wvrcode-path wvrcode-rust">BumpAllocator<span class="wvrcode-punctuation wvrcode-accessor wvrcode-rust">::</span></span>new<span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span><span class="wvrcode-constant wvrcode-numeric wvrcode-integer wvrcode-decimal wvrcode-rust">1024</span></span><span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span></span>
	run with bump_allocator <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">as</span> Alloc <span class="wvrcode-meta wvrcode-block wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-block wvrcode-begin wvrcode-rust">{</span>
	<span class="wvrcode-storage wvrcode-type wvrcode-rust">let</span> temp <span class="wvrcode-keyword wvrcode-operator wvrcode-rust">=</span> <span class="wvrcode-meta wvrcode-path wvrcode-rust">ComplexType<span class="wvrcode-punctuation wvrcode-accessor wvrcode-rust">::</span></span>new<span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-begin wvrcode-rust">(</span></span><span class="wvrcode-meta wvrcode-group wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-group wvrcode-end wvrcode-rust">)</span></span>
</span><span class="wvrcode-meta wvrcode-block wvrcode-rust"><span class="wvrcode-punctuation wvrcode-section wvrcode-block wvrcode-end wvrcode-rust">}</span></span>
</span></code></pre>
<p>...</p>
</body>
</html>
